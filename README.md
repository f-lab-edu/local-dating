# local-dating

<br><br>
## 시나리오

### 회원가입 /  로그인
1. 회원가입 시 id, pwd, 이름, 생년월일, 핸드폰번호, 이메일 입력을 받는다
2. id, pwd, 핸드폰, 이메일 유효성검사
3. 핸드폰 or 이메일에대한 인증번호 확인
4. id, pwd 입력해서 로그인하며 7회 틀릴 경우 계정이 잠긴다
5. 잠긴 계정은 핸드폰, 이메일 인증번호를 수신해서 초기화한다
<br><br>
### 정보 입력
1. 사용자의 외모, 직업, MBTI, 관심분야, 성향, 음주, 흡연, 종교, 거주지의 정보를 입력한다
2. 상대방에게 보여줄 대표 소개 문구를 작성하고 대표 사진을 업로드한다
3. 매칭상대의 나이, 외모, MBTI, 성향, 음주, 흡연, 종교, 거주지의 희망 조건을 입력한다
4. 매칭상대의 희망 조건 중 우선 순위를 선정한다
5. 매칭 예외되는 상대의 핸드폰번호를 등록한다
6. 매칭 시작을 위해서 코인을 충전한다
7. 충전한 코인잔액을 확인한다
<br><br>
### 매칭 준비
1. 정보 입력이 모두 끝나면 매칭 시작 버튼 활성화된다
2. 매칭 시작 버튼을 누르면 입력정보 기반하여 2개의 매칭카드가 나오고 카드에는 블러처리된 프로필 사진, 무작위 생성된 닉네임이 표시된다
3. 카드는 일주일 단위로 새로운 2장으로 변경되며 코인을 통해서 원하는 시점에 변경을 한다
4. 카드를 누르면 상대 대표 소개문구, 거주지, 매칭 시작 버튼이 표시된다
5. 매칭시작 버튼을 누르면 코인잔액에서 1코인이 차감 알럿이 나온다
6. 코인이 없으면 코인충전 알럿이 나온다
7. 코인 차감알럿에서 확인을 누르면 두 사용자의 거주지 정보 기반하여 중간장소가 선정되어 표시된다
8. 날짜는 현재날짜 ~ 1달 중 가능한 날짜를 체크해서 보낸다
9. 두 사용자가 보낸 날짜에서 공통되는 날짜 하루를 선정해서 보여준다
10. 두 사용자가 보낸 날짜에서 공통일이 없으면 상대가 고른 날짜가 보이고 다시 날짜를 보내거나 매칭을 취소할 수 있다
11. 날짜 선정 후 시간대를 원하는 시간대를 선정해서 보내준다
12. 시간대가 선정되면 매칭 진행일이 카드에 표시된다
13. 매칭일 3일 전 까지 일정변경, 취소버튼이 활성화 된다
14. 일정 변경 시 두 사용자는 날짜, 시간을 다시 선택한다
15. 취소 시 차감된 코인을 반환한다
<br><br>
### 매칭 진행
1. 선정장소에 매칭시작 시간에 도착했을 경우 사용자 위치정보를 전송한다
2. 두 사용자 모두 도착하여 위치정보가 전송되었을 경우, 나중에 전송된 시간을 시작시간으로 기록한다
3. 시작시간 40분 후 사용자 위치정보를 전송한다
4. 두 사용자 모두 종료 위치정보가 전송되면 카드에서 O/X를 선택할 수 있다
5. 양쪽이 O를 선택하면 상대 카드에서 사진 블러가 풀린다
6. 블러가 풀린 사용자와 7일 간 대화세션이 활성화되어 메세지를 보낸다
7. 7일 후 기존 카드는 사라지고 새로운 2장이 나타난다
8. 매칭시작 시간 위치정보 전송 후 상대방 위치정보가 30분 안에 이루어지지 않을 경우 노쇼로 본다
9. 노쇼를 했을 경우 매칭을 위해 소비한 코인 복구하고 무료 매칭권을 준다
10. 노쇼 당사자는 현재 나와있는 카드가 14일간 잠기며 7일간 들어오는 매칭 수신이 안된다
